{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/lib/api.js"],"sourcesContent":["/**\n * Frontend API Client\n * Centralizes all calls to the backend API.\n */\n\nconst BACKEND_URL = process.env.NEXT_PUBLIC_BACKEND_URL || 'https://trading-yuwf.onrender.com/api';\n\nexport async function getCandles(symbol, resolution, count) {\n    const to = Math.floor(Date.now() / 1000);\n    const from = to - (count * 60);\n\n    // Construct query parameters\n    const params = new URLSearchParams({\n        symbol,\n        resolution,\n        from: from.toString(),\n        to: to.toString()\n    });\n\n    const response = await fetch(`${BACKEND_URL}/candles?${params.toString()}`);\n    if (!response.ok) {\n        throw new Error(`Failed to fetch candles: ${response.statusText}`);\n    }\n    return response.json();\n}\n\nexport async function getQuote(symbol) {\n    const params = new URLSearchParams({ symbol });\n    const response = await fetch(`${BACKEND_URL}/quote?${params.toString()}`);\n    if (!response.ok) {\n        throw new Error(`Failed to fetch quote: ${response.statusText}`);\n    }\n    return response.json();\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AAED,MAAM,cAAc,QAAQ,GAAG,CAAC,uBAAuB,IAAI;AAEpD,eAAe,WAAW,MAAM,EAAE,UAAU,EAAE,KAAK;IACtD,MAAM,KAAK,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;IACnC,MAAM,OAAO,KAAM,QAAQ;IAE3B,6BAA6B;IAC7B,MAAM,SAAS,IAAI,gBAAgB;QAC/B;QACA;QACA,MAAM,KAAK,QAAQ;QACnB,IAAI,GAAG,QAAQ;IACnB;IAEA,MAAM,WAAW,MAAM,MAAM,GAAG,YAAY,SAAS,EAAE,OAAO,QAAQ,IAAI;IAC1E,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,SAAS,UAAU,EAAE;IACrE;IACA,OAAO,SAAS,IAAI;AACxB;AAEO,eAAe,SAAS,MAAM;IACjC,MAAM,SAAS,IAAI,gBAAgB;QAAE;IAAO;IAC5C,MAAM,WAAW,MAAM,MAAM,GAAG,YAAY,OAAO,EAAE,OAAO,QAAQ,IAAI;IACxE,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM,CAAC,uBAAuB,EAAE,SAAS,UAAU,EAAE;IACnE;IACA,OAAO,SAAS,IAAI;AACxB"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/lib/data-feed.js"],"sourcesContent":["import { getCandles, getQuote } from '@/lib/api';\n\nexport class DataFeed {\n    constructor(initialPrice = 1000) {\n        this.lastClose = initialPrice;\n        this.lastTime = Math.floor(Date.now() / 1000);\n        this.intervalId = null;\n        this.subscribers = [];\n        this.symbol = 'BINANCE:BTCUSDT';\n    }\n\n    async fetchHistory(symbol, resolution, count) {\n        this.symbol = symbol;\n        try {\n            const data = await getCandles(symbol, resolution, count);\n\n            if (data.s === \"ok\") {\n                const candles = data.t.map((t, i) => ({\n                    time: t,\n                    open: data.o[i],\n                    high: data.h[i],\n                    low: data.l[i],\n                    close: data.c[i]\n                }));\n\n                if (candles.length > 0) {\n                    this.lastClose = candles[candles.length - 1].close;\n                    this.lastTime = candles[candles.length - 1].time;\n                }\n                return candles;\n            } else {\n                return [];\n            }\n        } catch (e) {\n            console.error(\"Failed to fetch history:\", e);\n            return [];\n        }\n    }\n\n    start(symbol, intervalMs = 2000) {\n        this.stop();\n        this.symbol = symbol;\n\n        this.intervalId = setInterval(async () => {\n            try {\n                const data = await getQuote(symbol);\n\n                if (data.c) {\n                    const currentTime = Math.floor(Date.now() / 1000);\n\n                    // For simulation, we might get updates faster or slower, just blindly accept new price\n                    // data.c is the \"current price\" from backend simulator\n\n                    // Ideally we only add a candle if time has passed, but for \"live\" feel in simulator:\n                    // We can just append a new candle every interval using the backend's current price.\n\n                    // Ensure we don't duplicate timestamps too much if backend runs fast?\n                    // Actually, let's just use \"now\" as the time.\n\n                    // If backend is simulating continuous price, we treat 'data.c' as the close of a new candle \n                    // or update to current candle?\n                    // Let's make it simple: Each poll is a new \"tick/candle\" for the chart.\n\n                    if (currentTime <= this.lastTime) {\n                        // Force time forward for visual flow if fast polling\n                        // or just update the last candle?\n                        // Let's just return to avoid glitching chart x-axis\n                        // return;\n                    }\n\n                    const currentPrice = data.c;\n                    const open = this.lastClose;\n                    const close = currentPrice;\n                    const high = Math.max(open, close);\n                    const low = Math.min(open, close);\n\n                    const candle = {\n                        time: currentTime,\n                        open,\n                        high,\n                        low,\n                        close\n                    };\n\n                    this.lastClose = close;\n                    this.lastTime = currentTime;\n\n                    this.notify(candle);\n                }\n            } catch (e) {\n                console.error(\"Quote fetch error\", e);\n            }\n        }, intervalMs);\n    }\n\n    stop() {\n        if (this.intervalId) {\n            clearInterval(this.intervalId);\n            this.intervalId = null;\n        }\n    }\n\n    subscribe(callback) {\n        this.subscribers.push(callback);\n        return () => {\n            this.subscribers = this.subscribers.filter(cb => cb !== callback);\n        };\n    }\n\n    notify(candle) {\n        this.subscribers.forEach(cb => cb(candle));\n    }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/context/TradingContext.js"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useState } from 'react';\n\nconst TradingContext = createContext();\n\nexport const TradingProvider = ({ children }) => {\n    const [balance, setBalance] = useState(10000); // Default $10,000\n    const [holdings, setHoldings] = useState({});\n    const [transactions, setTransactions] = useState([]);\n\n    const buyStock = (symbol, price, quantity) => {\n        const totalCost = price * quantity;\n        if (totalCost > balance) {\n            alert(\"Insufficient funds\");\n            return;\n        }\n\n        setBalance((prev) => prev - totalCost);\n        setHoldings((prev) => ({\n            ...prev,\n            [symbol]: (prev[symbol] || 0) + quantity,\n        }));\n\n        const newTransaction = {\n            id: Math.random().toString(36).substr(2, 9),\n            type: 'BUY',\n            symbol,\n            price,\n            quantity,\n            timestamp: Date.now(),\n            total: totalCost,\n        };\n        setTransactions((prev) => [newTransaction, ...prev]);\n    };\n\n    const sellStock = (symbol, price, quantity) => {\n        const currentHolding = holdings[symbol] || 0;\n        if (currentHolding < quantity) {\n            alert(\"Insufficient holdings\");\n            return;\n        }\n\n        const totalValue = price * quantity;\n\n        setBalance((prev) => prev + totalValue);\n        setHoldings((prev) => {\n            const newHoldings = { ...prev, [symbol]: prev[symbol] - quantity };\n            if (newHoldings[symbol] === 0) {\n                delete newHoldings[symbol];\n            }\n            return newHoldings;\n        });\n\n        const newTransaction = {\n            id: Math.random().toString(36).substr(2, 9),\n            type: 'SELL',\n            symbol,\n            price,\n            quantity,\n            timestamp: Date.now(),\n            total: totalValue,\n        };\n        setTransactions((prev) => [newTransaction, ...prev]);\n    };\n\n    return (\n        <TradingContext.Provider value={{ balance, holdings, transactions, buyStock, sellStock }}>\n            {children}\n        </TradingContext.Provider>\n    );\n};\n\nexport const useTrading = () => {\n    const context = useContext(TradingContext);\n    if (!context) {\n        throw new Error(\"useTrading must be used within a TradingProvider\");\n    }\n    return context;\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAIA,MAAM,+BAAiB,IAAA,6OAAa;AAE7B,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE;IACxC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wOAAQ,EAAC,QAAQ,kBAAkB;IACjE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wOAAQ,EAAC,CAAC;IAC1C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wOAAQ,EAAC,EAAE;IAEnD,MAAM,WAAW,CAAC,QAAQ,OAAO;QAC7B,MAAM,YAAY,QAAQ;QAC1B,IAAI,YAAY,SAAS;YACrB,MAAM;YACN;QACJ;QAEA,WAAW,CAAC,OAAS,OAAO;QAC5B,YAAY,CAAC,OAAS,CAAC;gBACnB,GAAG,IAAI;gBACP,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI;YACpC,CAAC;QAED,MAAM,iBAAiB;YACnB,IAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;YACzC,MAAM;YACN;YACA;YACA;YACA,WAAW,KAAK,GAAG;YACnB,OAAO;QACX;QACA,gBAAgB,CAAC,OAAS;gBAAC;mBAAmB;aAAK;IACvD;IAEA,MAAM,YAAY,CAAC,QAAQ,OAAO;QAC9B,MAAM,iBAAiB,QAAQ,CAAC,OAAO,IAAI;QAC3C,IAAI,iBAAiB,UAAU;YAC3B,MAAM;YACN;QACJ;QAEA,MAAM,aAAa,QAAQ;QAE3B,WAAW,CAAC,OAAS,OAAO;QAC5B,YAAY,CAAC;YACT,MAAM,cAAc;gBAAE,GAAG,IAAI;gBAAE,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,GAAG;YAAS;YACjE,IAAI,WAAW,CAAC,OAAO,KAAK,GAAG;gBAC3B,OAAO,WAAW,CAAC,OAAO;YAC9B;YACA,OAAO;QACX;QAEA,MAAM,iBAAiB;YACnB,IAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;YACzC,MAAM;YACN;YACA;YACA;YACA,WAAW,KAAK,GAAG;YACnB,OAAO;QACX;QACA,gBAAgB,CAAC,OAAS;gBAAC;mBAAmB;aAAK;IACvD;IAEA,qBACI,qQAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAU;YAAc;YAAU;QAAU;kBAClF;;;;;;AAGb;AAEO,MAAM,aAAa;IACtB,MAAM,UAAU,IAAA,0OAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACV,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/components/MarketStats.jsx"],"sourcesContent":["import React from 'react';\nimport { TrendingUp, TrendingDown, DollarSign, Wallet } from 'lucide-react';\n\nconst StatCard = ({ label, value, subValue, type = 'neutral', icon: Icon }) => {\n    const colors = {\n        neutral: 'bg-white border-slate-100 text-slate-900',\n        positive: 'bg-emerald-50/50 border-emerald-100 text-emerald-900',\n        negative: 'bg-rose-50/50 border-rose-100 text-rose-900',\n    };\n\n    return (\n        <div className={`p-5 rounded-2xl border ${colors[type]} shadow-sm flex items-center justify-between`}>\n            <div>\n                <p className=\"text-xs font-medium uppercase tracking-wider text-slate-500 mb-1\">{label}</p>\n                <h3 className=\"text-2xl font-bold\">{value}</h3>\n                {subValue && <p className=\"text-sm font-medium opacity-80 mt-1\">{subValue}</p>}\n            </div>\n            {Icon && <div className=\"p-3 bg-white rounded-xl shadow-sm\"><Icon size={20} className=\"opacity-70\" /></div>}\n        </div>\n    );\n};\n\nexport const MarketStats = ({ currentPrice, previousPrice, holdings, symbol }) => {\n    const diff = currentPrice - previousPrice;\n    const isUp = diff >= 0;\n\n    return (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <StatCard\n                label=\"Market Price\"\n                value={`$${currentPrice.toFixed(2)}`}\n                icon={DollarSign}\n            />\n            <StatCard\n                label=\"24h Change\"\n                value={diff.toFixed(2)}\n                subValue={`${(diff / previousPrice * 100).toFixed(2)}%`}\n                type={isUp ? 'positive' : 'negative'}\n                icon={isUp ? TrendingUp : TrendingDown}\n            />\n            <StatCard\n                label=\"Your Position\"\n                value={`${holdings[symbol] || 0} Units`}\n                subValue={`Value: $${((holdings[symbol] || 0) * currentPrice).toFixed(2)}`}\n                icon={Wallet}\n            />\n        </div>\n    );\n};"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;;;;AAEA,MAAM,WAAW,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,SAAS,EAAE,MAAM,IAAI,EAAE;IACtE,MAAM,SAAS;QACX,SAAS;QACT,UAAU;QACV,UAAU;IACd;IAEA,qBACI,qQAAC;QAAI,WAAW,CAAC,uBAAuB,EAAE,MAAM,CAAC,KAAK,CAAC,4CAA4C,CAAC;;0BAChG,qQAAC;;kCACG,qQAAC;wBAAE,WAAU;kCAAoE;;;;;;kCACjF,qQAAC;wBAAG,WAAU;kCAAsB;;;;;;oBACnC,0BAAY,qQAAC;wBAAE,WAAU;kCAAuC;;;;;;;;;;;;YAEpE,sBAAQ,qQAAC;gBAAI,WAAU;0BAAoC,cAAA,qQAAC;oBAAK,MAAM;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAGlG;AAEO,MAAM,cAAc,CAAC,EAAE,YAAY,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE;IACzE,MAAM,OAAO,eAAe;IAC5B,MAAM,OAAO,QAAQ;IAErB,qBACI,qQAAC;QAAI,WAAU;;0BACX,qQAAC;gBACG,OAAM;gBACN,OAAO,CAAC,CAAC,EAAE,aAAa,OAAO,CAAC,IAAI;gBACpC,MAAM,uPAAU;;;;;;0BAEpB,qQAAC;gBACG,OAAM;gBACN,OAAO,KAAK,OAAO,CAAC;gBACpB,UAAU,GAAG,CAAC,OAAO,gBAAgB,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;gBACvD,MAAM,OAAO,aAAa;gBAC1B,MAAM,OAAO,uPAAU,GAAG,6PAAY;;;;;;0BAE1C,qQAAC;gBACG,OAAM;gBACN,OAAO,GAAG,QAAQ,CAAC,OAAO,IAAI,EAAE,MAAM,CAAC;gBACvC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,IAAI,YAAY,EAAE,OAAO,CAAC,IAAI;gBAC1E,MAAM,uOAAM;;;;;;;;;;;;AAI5B"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/components/OrderForm.jsx"],"sourcesContent":["import React from 'react';\n\nexport const OrderForm = ({ symbol, quantity, setQuantity, currentPrice, onBuy, onSell }) => {\n    const total = (currentPrice * quantity).toFixed(2);\n\n    return (\n        <div className=\"bg-white p-6 rounded-2xl border border-slate-100 shadow-lg shadow-slate-200/50 h-fit\">\n            <div className=\"flex items-center justify-between mb-6\">\n                <h2 className=\"text-lg font-bold text-slate-800\">Trade {symbol.split(':')[1]}</h2>\n                <span className=\"text-xs font-semibold px-2 py-1 bg-slate-100 text-slate-600 rounded-md\">Spot</span>\n            </div>\n\n            <div className=\"space-y-4\">\n                <div>\n                    <label className=\"block text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide\">\n                        Quantity\n                    </label>\n                    <div className=\"relative\">\n                        <input\n                            type=\"number\"\n                            min=\"1\"\n                            value={quantity}\n                            onChange={(e) => setQuantity(Number(e.target.value))}\n                            className=\"w-full pl-4 pr-12 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900 font-medium focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none\"\n                        />\n                        <span className=\"absolute right-4 top-1/2 -translate-y-1/2 text-sm text-slate-400\">Units</span>\n                    </div>\n                </div>\n\n                <div className=\"py-3 px-4 bg-slate-50 rounded-xl flex justify-between items-center\">\n                    <span className=\"text-sm text-slate-500\">Estimated Total</span>\n                    <span className=\"text-lg font-bold text-slate-800\">${total}</span>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-3 pt-2\">\n                    <button\n                        onClick={onBuy}\n                        disabled={currentPrice <= 0}\n                        className=\"py-3.5 bg-emerald-500 hover:bg-emerald-600 disabled:opacity-50 text-white font-bold rounded-xl transition-all active:scale-[0.98] shadow-lg shadow-emerald-500/20\"\n                    >\n                        Buy\n                    </button>\n                    <button\n                        onClick={onSell}\n                        disabled={currentPrice <= 0}\n                        className=\"py-3.5 bg-rose-500 hover:bg-rose-600 disabled:opacity-50 text-white font-bold rounded-xl transition-all active:scale-[0.98] shadow-lg shadow-rose-500/20\"\n                    >\n                        Sell\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};"],"names":[],"mappings":";;;;;AAAA;;;AAEO,MAAM,YAAY,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE;IACpF,MAAM,QAAQ,CAAC,eAAe,QAAQ,EAAE,OAAO,CAAC;IAEhD,qBACI,qQAAC;QAAI,WAAU;;0BACX,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBAAG,WAAU;;4BAAmC;4BAAO,OAAO,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;;kCAC5E,qQAAC;wBAAK,WAAU;kCAAyE;;;;;;;;;;;;0BAG7F,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;;0CACG,qQAAC;gCAAM,WAAU;0CAA0E;;;;;;0CAG3F,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCACG,MAAK;wCACL,KAAI;wCACJ,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,OAAO,EAAE,MAAM,CAAC,KAAK;wCAClD,WAAU;;;;;;kDAEd,qQAAC;wCAAK,WAAU;kDAAmE;;;;;;;;;;;;;;;;;;kCAI3F,qQAAC;wBAAI,WAAU;;0CACX,qQAAC;gCAAK,WAAU;0CAAyB;;;;;;0CACzC,qQAAC;gCAAK,WAAU;;oCAAmC;oCAAE;;;;;;;;;;;;;kCAGzD,qQAAC;wBAAI,WAAU;;0CACX,qQAAC;gCACG,SAAS;gCACT,UAAU,gBAAgB;gCAC1B,WAAU;0CACb;;;;;;0CAGD,qQAAC;gCACG,SAAS;gCACT,UAAU,gBAAgB;gCAC1B,WAAU;0CACb;;;;;;;;;;;;;;;;;;;;;;;;AAOrB"}},
    {"offset": {"line": 543, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/components/TransactionHistory.jsx"],"sourcesContent":["import React from 'react';\nimport { ArrowUpRight, ArrowDownLeft, History } from 'lucide-react';\n\nexport const TransactionHistory = ({ transactions }) => {\n    return (\n        <div className=\"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm h-[400px] flex flex-col\">\n            <h2 className=\"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2\">\n                <History size={18} className=\"text-slate-400\" /> Recent Activity\n            </h2>\n\n            <div className=\"flex-1 overflow-y-auto pr-2 space-y-3 custom-scrollbar\">\n                {transactions.length === 0 ? (\n                    <div className=\"h-full flex flex-col items-center justify-center text-slate-400\">\n                        <p className=\"text-sm\">No transactions yet</p>\n                    </div>\n                ) : (\n                    transactions.map((tx) => (\n                        <div key={tx.id} className=\"flex items-center justify-between p-3 rounded-xl bg-slate-50 hover:bg-slate-100 transition-colors group\">\n                            <div className=\"flex items-center gap-3\">\n                                <div className={`p-2 rounded-full ${tx.type === 'BUY' ? 'bg-emerald-100 text-emerald-600' : 'bg-rose-100 text-rose-600'}`}>\n                                    {tx.type === 'BUY' ? <ArrowDownLeft size={16} /> : <ArrowUpRight size={16} />}\n                                </div>\n                                <div>\n                                    <p className=\"text-sm font-bold text-slate-700\">{tx.type} BTC</p>\n                                    <p className=\"text-xs text-slate-400\">{new Date(tx.timestamp).toLocaleTimeString()}</p>\n                                </div>\n                            </div>\n                            <div className=\"text-right\">\n                                <p className=\"text-sm font-bold text-slate-900\">${tx.total.toFixed(2)}</p>\n                                <p className=\"text-xs text-slate-500\">{tx.quantity} units @ {tx.price.toFixed(2)}</p>\n                            </div>\n                        </div>\n                    ))\n                )}\n            </div>\n        </div>\n    );\n};"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;;;;AAEO,MAAM,qBAAqB,CAAC,EAAE,YAAY,EAAE;IAC/C,qBACI,qQAAC;QAAI,WAAU;;0BACX,qQAAC;gBAAG,WAAU;;kCACV,qQAAC,0OAAO;wBAAC,MAAM;wBAAI,WAAU;;;;;;oBAAmB;;;;;;;0BAGpD,qQAAC;gBAAI,WAAU;0BACV,aAAa,MAAM,KAAK,kBACrB,qQAAC;oBAAI,WAAU;8BACX,cAAA,qQAAC;wBAAE,WAAU;kCAAU;;;;;;;;;;+DAG3B,aAAa,GAAG,CAAC,CAAC,mBACd,qQAAC;wBAAgB,WAAU;;0CACvB,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCAAI,WAAW,CAAC,iBAAiB,EAAE,GAAG,IAAI,KAAK,QAAQ,oCAAoC,6BAA6B;kDACpH,GAAG,IAAI,KAAK,sBAAQ,qQAAC,oQAAa;4CAAC,MAAM;;;;;qGAAS,qQAAC,iQAAY;4CAAC,MAAM;;;;;;;;;;;kDAE3E,qQAAC;;0DACG,qQAAC;gDAAE,WAAU;;oDAAoC,GAAG,IAAI;oDAAC;;;;;;;0DACzD,qQAAC;gDAAE,WAAU;0DAA0B,IAAI,KAAK,GAAG,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;0CAGxF,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCAAE,WAAU;;4CAAmC;4CAAE,GAAG,KAAK,CAAC,OAAO,CAAC;;;;;;;kDACnE,qQAAC;wCAAE,WAAU;;4CAA0B,GAAG,QAAQ;4CAAC;4CAAU,GAAG,KAAK,CAAC,OAAO,CAAC;;;;;;;;;;;;;;uBAZ5E,GAAG,EAAE;;;;;;;;;;;;;;;;AAoBvC"}},
    {"offset": {"line": 706, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/components/FinancialNewsFeed.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { ExternalLink, Clock, Search, TrendingUp, Filter, AlertCircle } from 'lucide-react';\n\n// --- UTILITIES ---\n\nconst formatDate = (timestamp) => {\n    if (!timestamp) return '';\n    const date = new Date(timestamp * 1000);\n    return new Intl.DateTimeFormat('en-US', {\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n    }).format(date);\n};\n\n// A helper to assign subtle pastel colors to sources for visual distinction without neon clashes\nconst getSourceColor = (source) => {\n    const colors = {\n        'Yahoo': 'bg-purple-50 text-purple-700 border-purple-100',\n        'SeekingAlpha': 'bg-orange-50 text-orange-700 border-orange-100',\n        'Bloomberg': 'bg-blue-50 text-blue-700 border-blue-100',\n        'Reuters': 'bg-emerald-50 text-emerald-700 border-emerald-100',\n        'MarketWatch': 'bg-red-50 text-red-700 border-red-100',\n        'default': 'bg-slate-50 text-slate-600 border-slate-100'\n    };\n    return colors[source] || colors['default'];\n};\n\n// --- COMPONENTS ---\n\nconst NewsCard = ({ article }) => {\n    // Filter out the generic placeholder images if you want a cleaner look\n    const hasValidImage = article.image && article.image !== \"\";\n\n    return (\n        <div className=\"group relative flex flex-col justify-between h-full bg-white rounded-2xl overflow-hidden border border-slate-100 transition-all duration-300 hover:shadow-xl hover:shadow-slate-200/50 hover:-translate-y-1\">\n\n            {/* Image Section */}\n            {hasValidImage && (\n                <div className=\"relative h-48 w-full overflow-hidden bg-slate-100\">\n                    <img\n                        src={article.image}\n                        alt=\"News Thumbnail\"\n                        className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 opacity-90 group-hover:opacity-100\"\n                        onError={(e) => e.target.style.display = 'none'} // Hide broken images\n                    />\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent\" />\n                </div>\n            )}\n\n            {/* Content Section */}\n            <div className=\"flex flex-col flex-grow p-6\">\n                <div className=\"flex items-center justify-between mb-3\">\n                    <span className={`text-xs font-semibold px-2.5 py-1 rounded-full border ${getSourceColor(article.source)}`}>\n                        {article.source}\n                    </span>\n                    <div className=\"flex items-center text-slate-400 text-xs font-medium\">\n                        <Clock size={12} className=\"mr-1\" />\n                        {formatDate(article.datetime)}\n                    </div>\n                </div>\n\n                <h3 className=\"text-lg font-bold text-slate-800 leading-snug mb-3 line-clamp-2 group-hover:text-indigo-600 transition-colors\">\n                    {article.headline}\n                </h3>\n\n                <p className=\"text-sm text-slate-500 leading-relaxed mb-4 line-clamp-3\">\n                    {article.summary}\n                </p>\n            </div>\n\n            {/* Footer / Action */}\n            <div className=\"px-6 pb-6 pt-0 mt-auto\">\n                <a\n                    href={article.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"inline-flex items-center text-sm font-semibold text-slate-900 hover:text-indigo-600 transition-colors\"\n                >\n                    Read Analysis <ExternalLink size={14} className=\"ml-1\" />\n                </a>\n            </div>\n        </div>\n    );\n};\n\n\n\n// --- MAIN APPLICATION ---\n\nexport default function FinancialNewsFeed() {\n    const [newsData, setNewsData] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [loadingMore, setLoadingMore] = useState(false);\n    const [error, setError] = useState(null);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [page, setPage] = useState(1);\n    const [hasMore, setHasMore] = useState(true);\n\n    const fetchNews = async (pageNum = 1) => {\n        try {\n            if (pageNum === 1) setLoading(true);\n            else setLoadingMore(true);\n\n            // Using the simulated backend URL with pagination\n            const response = await fetch(`http://localhost:8080/api/news?page=${pageNum}&limit=9`);\n            if (!response.ok) {\n                throw new Error('Failed to fetch news');\n            }\n            const result = await response.json();\n\n            // Backend now returns { data: [], total: 0, page: 1, hasMore: true }\n            if (result.data) {\n                setNewsData(prev => pageNum === 1 ? result.data : [...prev, ...result.data]);\n                setHasMore(result.hasMore);\n            } else if (Array.isArray(result)) {\n                // Fallback for old API format if cache hasn't updated yet\n                setNewsData(result);\n                setHasMore(false);\n            }\n        } catch (err) {\n            console.error(\"Error fetching news:\", err);\n            setError(err.message);\n        } finally {\n            setLoading(false);\n            setLoadingMore(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchNews(1);\n    }, []);\n\n    const handleLoadMore = () => {\n        const nextPage = page + 1;\n        setPage(nextPage);\n        fetchNews(nextPage);\n    };\n\n    // Infinite Scroll Observer\n    const observerTarget = React.useRef(null);\n\n    useEffect(() => {\n        const observer = new IntersectionObserver(\n            entries => {\n                if (entries[0].isIntersecting && hasMore && !loading && !loadingMore) {\n                    handleLoadMore();\n                }\n            },\n            { threshold: 1.0 }\n        );\n\n        if (observerTarget.current) {\n            observer.observe(observerTarget.current);\n        }\n\n        return () => {\n            if (observerTarget.current) {\n                observer.unobserve(observerTarget.current);\n            }\n        };\n    }, [hasMore, loading, loadingMore, page]); // Re-run when dependencies change\n\n    // Efficiently filter data based on search input\n    const filteredNews = useMemo(() => {\n        if (!searchTerm) return newsData;\n        const lowerTerm = searchTerm.toLowerCase();\n        return newsData.filter(item =>\n            (item.headline && item.headline.toLowerCase().includes(lowerTerm)) ||\n            (item.summary && item.summary.toLowerCase().includes(lowerTerm)) ||\n            (item.source && item.source.toLowerCase().includes(lowerTerm))\n        );\n    }, [searchTerm, newsData]);\n\n    // --- RENDER ---\n    if (loading && page === 1) {\n        return (\n            <div className=\"bg-white rounded-2xl p-8 border border-slate-100 flex items-center justify-center min-h-[400px]\">\n                <div className=\"text-slate-500 font-medium animate-pulse\">Loading market intelligence...</div>\n            </div>\n        );\n    }\n\n    if (error && page === 1) {\n        return (\n            <div className=\"bg-red-50 rounded-2xl p-8 border border-red-100 flex items-center justify-center text-red-600 min-h-[200px]\">\n                <AlertCircle className=\"mr-2\" /> Error: {error}. Is the backend running?\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n                <h2 className=\"text-xl font-bold text-slate-800 flex items-center gap-2\">\n                    <TrendingUp className=\"text-indigo-600\" size={20} />\n                    Latest Briefings\n                    <span className=\"ml-2 text-sm font-normal text-slate-400 bg-slate-50 px-2.5 py-0.5 rounded-full border border-slate-200\">\n                        {filteredNews.length}\n                    </span>\n                </h2>\n\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"relative group w-full md:w-64\">\n                        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                            <Search className=\"h-4 w-4 text-slate-400 group-focus-within:text-indigo-500 transition-colors\" />\n                        </div>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Filter news...\"\n                            value={searchTerm}\n                            onChange={(e) => setSearchTerm(e.target.value)}\n                            className=\"block w-full pl-10 pr-3 py-2 border border-slate-200 rounded-xl text-sm leading-5 bg-white text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-100 focus:border-indigo-400 transition-all duration-200\"\n                        />\n                    </div>\n                </div>\n            </div>\n\n            {/* Grid */}\n            {filteredNews.length > 0 ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {filteredNews.map((article) => (\n                        <NewsCard key={article.id} article={article} />\n                    ))}\n                </div>\n            ) : (\n                <div className=\"flex flex-col items-center justify-center py-20 text-center bg-white rounded-2xl border border-slate-100\">\n                    <div className=\"bg-slate-50 p-4 rounded-full mb-4\">\n                        <Search size={24} className=\"text-slate-400\" />\n                    </div>\n                    <h3 className=\"text-lg font-medium text-slate-700\">No briefings found</h3>\n                    <p className=\"text-slate-500\">Try adjusting your search terms.</p>\n                </div>\n            )}\n\n            {/* Loading Sentinel */}\n            {hasMore && !searchTerm && (\n                <div ref={observerTarget} className=\"flex justify-center py-8\">\n                    {loadingMore && (\n                        <div className=\"flex items-center text-slate-500 font-medium\">\n                            <div className=\"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin mr-3\"></div>\n                            Fetching more updates...\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;;;;AAIA,oBAAoB;AAEpB,MAAM,aAAa,CAAC;IAChB,IAAI,CAAC,WAAW,OAAO;IACvB,MAAM,OAAO,IAAI,KAAK,YAAY;IAClC,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACpC,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;IACZ,GAAG,MAAM,CAAC;AACd;AAEA,iGAAiG;AACjG,MAAM,iBAAiB,CAAC;IACpB,MAAM,SAAS;QACX,SAAS;QACT,gBAAgB;QAChB,aAAa;QACb,WAAW;QACX,eAAe;QACf,WAAW;IACf;IACA,OAAO,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,UAAU;AAC9C;AAEA,qBAAqB;AAErB,MAAM,WAAW,CAAC,EAAE,OAAO,EAAE;IACzB,uEAAuE;IACvE,MAAM,gBAAgB,QAAQ,KAAK,IAAI,QAAQ,KAAK,KAAK;IAEzD,qBACI,qQAAC;QAAI,WAAU;;YAGV,+BACG,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBACG,KAAK,QAAQ,KAAK;wBAClB,KAAI;wBACJ,WAAU;wBACV,SAAS,CAAC,IAAM,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG;;;;;;kCAE7C,qQAAC;wBAAI,WAAU;;;;;;;;;;;;0BAKvB,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBAAI,WAAU;;0CACX,qQAAC;gCAAK,WAAW,CAAC,sDAAsD,EAAE,eAAe,QAAQ,MAAM,GAAG;0CACrG,QAAQ,MAAM;;;;;;0CAEnB,qQAAC;gCAAI,WAAU;;kDACX,qQAAC,oOAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAC1B,WAAW,QAAQ,QAAQ;;;;;;;;;;;;;kCAIpC,qQAAC;wBAAG,WAAU;kCACT,QAAQ,QAAQ;;;;;;kCAGrB,qQAAC;wBAAE,WAAU;kCACR,QAAQ,OAAO;;;;;;;;;;;;0BAKxB,qQAAC;gBAAI,WAAU;0BACX,cAAA,qQAAC;oBACG,MAAM,QAAQ,GAAG;oBACjB,QAAO;oBACP,KAAI;oBACJ,WAAU;;wBACb;sCACiB,qQAAC,6PAAY;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKpE;AAMe,SAAS;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wOAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wOAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wOAAQ,EAAC;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wOAAQ,EAAC;IACnC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wOAAQ,EAAC;IAC7C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wOAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wOAAQ,EAAC;IAEvC,MAAM,YAAY,OAAO,UAAU,CAAC;QAChC,IAAI;YACA,IAAI,YAAY,GAAG,WAAW;iBACzB,eAAe;YAEpB,kDAAkD;YAClD,MAAM,WAAW,MAAM,MAAM,CAAC,oCAAoC,EAAE,QAAQ,QAAQ,CAAC;YACrF,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM;YACpB;YACA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,qEAAqE;YACrE,IAAI,OAAO,IAAI,EAAE;gBACb,YAAY,CAAA,OAAQ,YAAY,IAAI,OAAO,IAAI,GAAG;2BAAI;2BAAS,OAAO,IAAI;qBAAC;gBAC3E,WAAW,OAAO,OAAO;YAC7B,OAAO,IAAI,MAAM,OAAO,CAAC,SAAS;gBAC9B,0DAA0D;gBAC1D,YAAY;gBACZ,WAAW;YACf;QACJ,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC,wBAAwB;YACtC,SAAS,IAAI,OAAO;QACxB,SAAU;YACN,WAAW;YACX,eAAe;QACnB;IACJ;IAEA,IAAA,yOAAS,EAAC;QACN,UAAU;IACd,GAAG,EAAE;IAEL,MAAM,iBAAiB;QACnB,MAAM,WAAW,OAAO;QACxB,QAAQ;QACR,UAAU;IACd;IAEA,2BAA2B;IAC3B,MAAM,iBAAiB,uOAAK,CAAC,MAAM,CAAC;IAEpC,IAAA,yOAAS,EAAC;QACN,MAAM,WAAW,IAAI,qBACjB,CAAA;YACI,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc,IAAI,WAAW,CAAC,WAAW,CAAC,aAAa;gBAClE;YACJ;QACJ,GACA;YAAE,WAAW;QAAI;QAGrB,IAAI,eAAe,OAAO,EAAE;YACxB,SAAS,OAAO,CAAC,eAAe,OAAO;QAC3C;QAEA,OAAO;YACH,IAAI,eAAe,OAAO,EAAE;gBACxB,SAAS,SAAS,CAAC,eAAe,OAAO;YAC7C;QACJ;IACJ,GAAG;QAAC;QAAS;QAAS;QAAa;KAAK,GAAG,kCAAkC;IAE7E,gDAAgD;IAChD,MAAM,eAAe,IAAA,uOAAO,EAAC;QACzB,IAAI,CAAC,YAAY,OAAO;QACxB,MAAM,YAAY,WAAW,WAAW;QACxC,OAAO,SAAS,MAAM,CAAC,CAAA,OACnB,AAAC,KAAK,QAAQ,IAAI,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,cACtD,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,cACpD,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC;IAE3D,GAAG;QAAC;QAAY;KAAS;IAEzB,iBAAiB;IACjB,IAAI,WAAW,SAAS,GAAG;QACvB,qBACI,qQAAC;YAAI,WAAU;sBACX,cAAA,qQAAC;gBAAI,WAAU;0BAA2C;;;;;;;;;;;IAGtE;IAEA,IAAI,SAAS,SAAS,GAAG;QACrB,qBACI,qQAAC;YAAI,WAAU;;8BACX,qQAAC,0PAAW;oBAAC,WAAU;;;;;;gBAAS;gBAAS;gBAAM;;;;;;;IAG3D;IAEA,qBACI,qQAAC;QAAI,WAAU;;0BACX,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBAAG,WAAU;;0CACV,qQAAC,uPAAU;gCAAC,WAAU;gCAAkB,MAAM;;;;;;4BAAM;0CAEpD,qQAAC;gCAAK,WAAU;0CACX,aAAa,MAAM;;;;;;;;;;;;kCAI5B,qQAAC;wBAAI,WAAU;kCACX,cAAA,qQAAC;4BAAI,WAAU;;8CACX,qQAAC;oCAAI,WAAU;8CACX,cAAA,qQAAC,uOAAM;wCAAC,WAAU;;;;;;;;;;;8CAEtB,qQAAC;oCACG,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,WAAU;;;;;;;;;;;;;;;;;;;;;;;YAOzB,aAAa,MAAM,GAAG,kBACnB,qQAAC;gBAAI,WAAU;0BACV,aAAa,GAAG,CAAC,CAAC,wBACf,qQAAC;wBAA0B,SAAS;uBAArB,QAAQ,EAAE;;;;;;;;;qCAIjC,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBAAI,WAAU;kCACX,cAAA,qQAAC,uOAAM;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAEhC,qQAAC;wBAAG,WAAU;kCAAqC;;;;;;kCACnD,qQAAC;wBAAE,WAAU;kCAAiB;;;;;;;;;;;;YAKrC,WAAW,CAAC,4BACT,qQAAC;gBAAI,KAAK;gBAAgB,WAAU;0BAC/B,6BACG,qQAAC;oBAAI,WAAU;;sCACX,qQAAC;4BAAI,WAAU;;;;;;wBAA+F;;;;;;;;;;;;;;;;;;AAQ1I"}},
    {"offset": {"line": 1158, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/components/Footer.jsx"],"sourcesContent":["import React from 'react';\nimport { Heart } from 'lucide-react';\n\nexport const Footer = () => {\n    return (\n        <footer className=\"mt-12 bg-white border-t border-slate-200 py-8\">\n            <div className=\"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4\">\n                <div className=\"text-center md:text-left\">\n                    <p className=\"font-bold text-slate-900 text-lg\">Trade<span className=\"text-indigo-600\">-IN</span></p>\n                    <p className=\"text-slate-500 text-sm mt-1\">Next-Gen Trading Platform</p>\n                </div>\n\n                <div className=\"flex items-center text-slate-400 text-sm font-medium\">\n                    <span>Made for Traders</span>\n                </div>\n\n                <div className=\"text-slate-500 text-sm\">\n                    &copy; {new Date().getFullYear()} Trade-IN. All rights reserved.\n                </div>\n            </div>\n        </footer>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;;;;AAGO,MAAM,SAAS;IAClB,qBACI,qQAAC;QAAO,WAAU;kBACd,cAAA,qQAAC;YAAI,WAAU;;8BACX,qQAAC;oBAAI,WAAU;;sCACX,qQAAC;4BAAE,WAAU;;gCAAmC;8CAAK,qQAAC;oCAAK,WAAU;8CAAkB;;;;;;;;;;;;sCACvF,qQAAC;4BAAE,WAAU;sCAA8B;;;;;;;;;;;;8BAG/C,qQAAC;oBAAI,WAAU;8BACX,cAAA,qQAAC;kCAAK;;;;;;;;;;;8BAGV,qQAAC;oBAAI,WAAU;;wBAAyB;wBAC5B,IAAI,OAAO,WAAW;wBAAG;;;;;;;;;;;;;;;;;;AAKrD"}},
    {"offset": {"line": 1250, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwatsharma/trading/frontend/src/components/Dashboard.jsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport dynamic from 'next/dynamic';\nimport { DataFeed } from '@/lib/data-feed';\nimport { useTrading } from '@/context/TradingContext';\nimport { MarketStats } from './MarketStats';\nimport { OrderForm } from './OrderForm';\nimport { TransactionHistory } from './TransactionHistory';\nimport FinancialNewsFeed from './FinancialNewsFeed';\nimport { Footer } from './Footer';\nimport { Activity, Power } from 'lucide-react';\n\n// Dynamic import for Chart to avoid SSR issues\nconst PriceChart = dynamic(() => import('./PriceChart').then(mod => mod.PriceChart), {\n    ssr: false,\n    loading: () => <div className=\"w-full h-[500px] bg-slate-50 rounded-2xl animate-pulse\" />\n});\n\nexport default function Dashboard() {\n    // --- STATE & LOGIC ---\n    const [data, setData] = useState([]);\n    const [isRunning, setIsRunning] = useState(false);\n    const [quantity, setQuantity] = useState(1);\n    const dataFeedRef = useRef(null);\n    const { balance, holdings, transactions, buyStock, sellStock } = useTrading();\n\n    const symbol = 'BINANCE:BTCUSDT';\n\n    useEffect(() => {\n        const feed = new DataFeed();\n        dataFeedRef.current = feed;\n\n        feed.fetchHistory(symbol, '1', 100).then(initialData => {\n            setData(initialData);\n            feed.start(symbol, 2000);\n            setIsRunning(true);\n        });\n\n        const unsubscribe = feed.subscribe((newCandle) => {\n            setData((prevData) => {\n                const newData = [...prevData, newCandle];\n                return newData.slice(-200); // Keep last 200 candles for performance\n            });\n        });\n\n        return () => {\n            feed.stop();\n            unsubscribe();\n        };\n    }, []);\n\n    const toggleFeed = () => {\n        if (!dataFeedRef.current) return;\n        if (isRunning) {\n            dataFeedRef.current.stop();\n        } else {\n            dataFeedRef.current.start(symbol, 2000);\n        }\n        setIsRunning(!isRunning);\n    };\n\n    const currentPrice = data.length > 0 ? data[data.length - 1].close : 0;\n    const previousPrice = data.length > 1 ? data[data.length - 2].close : currentPrice;\n\n    // --- RENDER ---\n    return (\n        <div className=\"min-h-screen bg-[#F8FAFC] text-slate-900 font-sans pb-20\">\n            {/* Header */}\n            <header className=\"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-slate-200\">\n                <div className=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                        <div className=\"p-2 bg-indigo-600 rounded-lg text-white\">\n                            <Activity size={24} />\n                        </div>\n                        <div>\n                            <h1 className=\"text-xl font-bold tracking-tight text-slate-900\">Trade<span className=\"text-indigo-600\">-IN</span></h1>\n                            <p className=\"text-xs text-slate-500 font-medium\">BTC/USDT Live Market</p>\n                        </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-6\">\n                        <div className=\"text-right hidden sm:block\">\n                            <p className=\"text-xs text-slate-400 font-medium uppercase tracking-wider\">Wallet Balance</p>\n                            <p className=\"text-xl font-bold text-slate-800\">${balance.toFixed(2)}</p>\n                        </div>\n                        <button\n                            onClick={toggleFeed}\n                            className={`flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm transition-all ${isRunning\n                                ? 'bg-rose-50 text-rose-600 border border-rose-100 hover:bg-rose-100'\n                                : 'bg-emerald-50 text-emerald-600 border border-emerald-100 hover:bg-emerald-100'\n                                }`}\n                        >\n                            <Power size={16} />\n                            {isRunning ? 'Stop Feed' : 'Start Feed'}\n                        </button>\n                    </div>\n                </div>\n            </header>\n\n            {/* Main Content */}\n            <main className=\"max-w-7xl mx-auto px-6 py-8 space-y-8\">\n\n                {/* Stats Row */}\n                <MarketStats\n                    currentPrice={currentPrice}\n                    previousPrice={previousPrice}\n                    holdings={holdings}\n                    symbol={symbol}\n                />\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                    {/* Left Column: Chart */}\n                    <div className=\"lg:col-span-2 space-y-6\">\n                        <PriceChart data={data} />\n                    </div>\n\n                    {/* Right Column: Trading & History */}\n                    <div className=\"space-y-6\">\n                        <OrderForm\n                            symbol={symbol}\n                            quantity={quantity}\n                            setQuantity={setQuantity}\n                            currentPrice={currentPrice}\n                            onBuy={() => buyStock(symbol, currentPrice, Number(quantity))}\n                            onSell={() => sellStock(symbol, currentPrice, Number(quantity))}\n                        />\n                        <TransactionHistory transactions={transactions} />\n                    </div>\n                </div>\n\n                {/* News Section */}\n                <div className=\"pt-8 border-t border-slate-200\">\n                    <FinancialNewsFeed />\n                </div>\n            </main>\n\n            <Footer />\n        </div>\n    );\n}"],"names":[],"mappings":"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"}}]
}